# Project Constitution: chorus-playground

## Project Identity

- **Name**: chorus-playground
- **Type**: TypeScript CLI application
- **Repository**: https://github.com/bernajaber/chorus-playground
- **License**: ISC

## Purpose

chorus-playground is a simple TypeScript command-line project used for learning and testing CLI patterns. It provides small, focused CLI commands (hello, goodbye, greet) that demonstrate how to build, test, and distribute Node.js CLI tools written in TypeScript.

## Tech Stack

- **Language**: TypeScript (strict mode)
- **Runtime**: Node.js (ES2020 target)
- **Module System**: CommonJS
- **Build Tool**: tsc (TypeScript compiler)
- **Test Framework**: Jest with ts-jest preset
- **Package Manager**: npm

## Project Structure

```
chorus-playground/
  src/           # TypeScript source files (one file per command + co-located tests)
  dist/          # Compiled JavaScript output (generated by tsc)
  package.json   # Project config, scripts, and bin entries
  tsconfig.json  # TypeScript compiler configuration
```

## Conventions

### File Naming
- Command source files: `src/<command-name>.ts`
- Test files: `src/<command-name>.test.ts` (co-located with source)
- Each command exports a named function and has a `require.main === module` guard for CLI execution

### CLI Pattern
- Each command is a standalone file with its own bin entry in package.json
- Commands read arguments from `process.argv`
- Commands output to `console.log`
- Entry point guard: `if (require.main === module) { ... }`

### Testing
- Tests are co-located with source files in `src/`
- Jest with ts-jest for TypeScript support
- Test files follow `<name>.test.ts` naming convention
- Run tests with `npm test`

### Build & Run
- Build: `npm run build` (runs `tsc`)
- Start: `npm start` (runs `node dist/hello.js`)
- Individual commands: `node dist/<command>.js [args]`

## Principles

1. **Simplicity**: Each command does one thing well
2. **Testability**: Every command exports a testable function
3. **Consistency**: All commands follow the same structural pattern
4. **No external runtime dependencies**: Keep the dependency footprint minimal (dev-only deps for build/test)

## Constraints

- No frameworks (no Commander, yargs, etc.) -- raw `process.argv` parsing
- CommonJS module system (not ESM)
- Strict TypeScript compilation
- All source in `src/`, all output in `dist/`
